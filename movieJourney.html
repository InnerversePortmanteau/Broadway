<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Movie Quest: A Collaborative Framework</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1024px;
        }
        
        .glass-card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .quadrant {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .quadrant:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(148, 163, 184, 0.3);
        }
        
        .quadrant.expanded {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .quadrant-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .quadrant-title-group {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .quadrant-icon {
            font-size: 2.5rem;
        }
        
        .quadrant-details {
            max-height: 0;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .quadrant-details.expanded {
            max-height: 2000px;
        }
        
        .expand-btn {
            transition: all 0.3s ease;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgb(51, 65, 85);
            border: none;
            color: white;
            font-weight: bold;
            font-size: 1.125rem;
            cursor: pointer;
        }
        
        .expand-btn:hover {
            background: rgb(71, 85, 105);
            transform: scale(1.1);
        }
        
        .expand-btn.rotated {
            transform: rotate(45deg) scale(1.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 1rem;
            background: rgb(71, 85, 105);
            border-radius: 9999px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, rgb(20, 184, 166), rgb(34, 197, 94));
            transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(20, 184, 166, 0.3);
        }
        
        .movie-card {
            background: rgba(30, 41, 59, 0.6);
            padding: 1rem;
            border-radius: 0.75rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .movie-card:hover {
            transform: translateY(-2px);
            border-color: rgba(148, 163, 184, 0.2);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .movie-card.watched {
            background: rgba(15, 118, 110, 0.1);
            border-color: rgba(20, 184, 166, 0.3);
            opacity: 0.75;
        }
        
        .movie-card h3 {
            font-weight: bold;
            font-size: 1.125rem;
            color: white;
            margin: 0;
        }
        
        .movie-card p {
            font-size: 0.875rem;
            color: rgb(148, 163, 184);
            margin: 0;
        }
        
        .btn-primary {
            width: 100%;
            padding: 0.5rem 1rem;
            margin-top: 0.5rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, rgb(59, 130, 246) 0%, rgb(99, 102, 241) 100%);
            border: none;
            border-radius: 0.5rem;
            box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, rgb(37, 99, 235) 0%, rgb(79, 70, 229) 100%);
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }
        
        .btn-primary:disabled {
            background: linear-gradient(135deg, rgb(5, 150, 105) 0%, rgb(13, 148, 136) 100%);
            cursor: not-allowed;
        }
        
        .crisis-btn {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, rgb(220, 38, 38) 0%, rgb(185, 28, 28) 100%);
            border: none;
            border-radius: 9999px;
            box-shadow: 0 4px 14px 0 rgba(220, 38, 38, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .crisis-btn:hover {
            background: linear-gradient(135deg, rgb(185, 28, 28) 0%, rgb(153, 27, 27) 100%);
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(245, 158, 11, 0.5); }
            50% { box-shadow: 0 0 20px rgba(245, 158, 11, 0.8); }
        }

        .rewards-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: bold;
        }

        .rewards-earned {
            background: rgba(34, 197, 94, 0.2);
            color: rgb(34, 197, 94);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }
    </style>
</head>
<body class="p-4 sm:p-8">

<div class="container mx-auto">
    <!-- Header Section -->
    <header class="text-center py-12">
        <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 mb-4">
            Our Movie Quest
        </h1>
        <p class="mt-4 text-xl text-slate-400">
            A collaborative framework for our shared journey to cinema victory.
        </p>
    </header>

    <!-- Audio Player Section -->
    <div class="glass-card rounded-2xl p-6 mb-8 text-center">
        <h3 class="text-2xl font-bold text-white mb-4 flex items-center justify-center gap-2">
            <span class="text-2xl">🎵</span>
            Our Movie Quest Theme Song
        </h3>
        <audio id="movie-theme-song" controls class="w-full rounded-lg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <!-- Main Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

        <!-- Quadrant 1: Known Knowns -->
        <div class="quadrant known-knowns glass-card p-6 rounded-3xl shadow-xl cursor-pointer border border-slate-700" onclick="window.toggleDetails(this)">
            <div class="quadrant-header">
                <div class="quadrant-title-group">
                    <span class="quadrant-icon">🎬</span>
                    <div>
                        <h2 class="text-2xl font-bold text-white">Known Knowns</h2>
                        <p class="text-sm text-slate-400">The AMC Stubs Goal</p>
                    </div>
                </div>
                <button class="expand-btn">+</button>
            </div>
            
            <div class="quadrant-details">
                <p class="mb-4 text-slate-300">
                    This is our foundation. We know the rules and the rewards. Our goal is clear: to watch the movies and unlock the perks.
                </p>
                
                <!-- Progress Section -->
                <div class="glass-card p-4 rounded-xl mb-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-semibold text-sm">
                            Movies Watched: <span id="movies-watched" class="font-bold text-white">0</span>/5
                        </span>
                        <span id="rewards-status" class="text-sm font-bold"></span>
                    </div>
                    <div class="progress-bar mt-2">
                        <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
                    </div>
                </div>

                <!-- Movies List -->
                <div class="mt-6 space-y-4">
                    <div class="movie-card" data-movie="Downton Abbey: The Grand Finale">
                        <h3>Downton Abbey: The Grand Finale</h3>
                        <img src="Downton_Abbey_The_Grand_Finale.jpg" alt="A grand cinematic painting of the Crawley family and their staff with a British manor in the background." class="w-full h-auto rounded-lg mt-2">
                        <button class="btn-primary" onclick="window.trackMovie(this, event)">Mark as Watched</button>
                    </div>
                    <div class="movie-card" data-movie="Anemone">
                        <h3>Anemone</h3>
                        <img src="Anemone.jpg" alt="A beautiful underwater image of a woman gracefully swimming alongside a vibrant octopus." class="w-full h-auto rounded-lg mt-2">
                        <button class="btn-primary" onclick="window.trackMovie(this, event)">Mark as Watched</button>
                    </div>
                    <div class="movie-card" data-movie="Bugonia">
                        <h3>Bugonia</h3>
                        <img src="Bugonia.jpg" alt="A suspenseful and slightly surreal image of a TV producer looking shocked, with a glowing insect in the foreground." class="w-full h-auto rounded-lg mt-2">
                        <button class="btn-primary" onclick="window.trackMovie(this, event)">Mark as Watched</button>
                    </div>
                    <div class="movie-card" data-movie="Hamnet">
                        <h3>Hamnet</h3>
                        <img src="Hamnet.jpg" alt="A moody, historical portrait of a young boy in 16th-century England with a quill pen." class="w-full h-auto rounded-lg mt-2">
                        <button class="btn-primary" onclick="window.trackMovie(this, event)">Mark as Watched</button>
                    </div>
                    <div class="movie-card" data-movie="Song Sung Blue">
                        <h3>Song Sung Blue</h3>
                        <img src="Song_Sung_Blue.jpg" alt="A warm, documentary-style photograph of a group of elderly musicians playing together on a dimly lit stage." class="w-full h-auto rounded-lg mt-2">
                        <button class="btn-primary" onclick="window.trackMovie(this, event)">Mark as Watched</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quadrant 2: Known Unknowns -->
        <div class="quadrant known-unknowns glass-card p-6 rounded-3xl shadow-xl cursor-pointer border border-slate-700" onclick="window.toggleDetails(this)">
            <div class="quadrant-header">
                <div class="quadrant-title-group">
                    <span class="quadrant-icon">📝</span>
                    <div>
                        <h2 class="text-2xl font-bold text-white">Known Unknowns</h2>
                        <p class="text-sm text-slate-400">The Planning & Research</p>
                    </div>
                </div>
                <button class="expand-btn">+</button>
            </div>
            
            <div class="quadrant-details">
                <p class="mb-4 text-slate-300">
                    These are the gaps in our knowledge that we can fill with a little planning. Let's ask some questions to convert these unknowns into our foundation.
                </p>
                
                <div class="glass-card p-4 rounded-xl space-y-4">
                    <div class="glass-card p-4 rounded-xl border border-slate-700">
                        <p class="text-sm text-slate-300 font-semibold mb-2">Phase 1: Information Overload</p>
                        <ul class="text-slate-400 text-sm list-disc list-inside space-y-1">
                            <li>Which movie are we most excited to see first?</li>
                            <li>What if we weren't spending so much time on showtimes and could just focus on popcorn?</li>
                            <li>What's the real cost of our time spent on this decision?</li>
                        </ul>
                    </div>
                    <div class="glass-card p-4 rounded-xl border border-slate-700">
                        <p class="text-sm text-slate-300 font-semibold mb-2">Phase 2: Creative Productivity</p>
                        <ul class="text-slate-400 text-sm list-disc list-inside space-y-1">
                            <li>Are we confident that we're in full control of our movie nights, and not just dependent on a third party's business model?</li>
                            <li>How would it feel to have a data-backed case for our movie night, so we can stop guessing?</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quadrant 3: Unknown Knowns -->
        <div class="quadrant unknown-knowns glass-card p-6 rounded-3xl shadow-xl cursor-pointer border border-slate-700" onclick="window.toggleDetails(this)">
            <div class="quadrant-header">
                <div class="quadrant-title-group">
                    <span class="quadrant-icon">🤝</span>
                    <div>
                        <h2 class="text-2xl font-bold text-white">Unknown Knowns</h2>
                        <p class="text-sm text-slate-400">Our Shared Relational World</p>
                    </div>
                </div>
                <button class="expand-btn">+</button>
            </div>
            
            <div class="quadrant-details">
                <p class="mb-4 text-slate-300">
                    Drawing from the wisdom of "The Untouchables," this is about finding power and safety not in individual strength, but in our shared loyalty and trust. Our combined tastes, hunches, and preferences are our hidden wisdom.
                </p>
                
                <div class="glass-card p-4 rounded-xl">
                    <h4 class="font-semibold text-slate-300 mb-2">Our "Relational Holding Environment"</h4>
                    <p class="text-sm text-slate-400">
                        Just like Eliot Ness found strength in his team, our movie quest is a shared endeavor. It's in the discussions on the car ride home, the shared laughter in the theater, and the agreement on the next movie that we discover our true collaborative power. This is the tacit knowledge that makes the whole process enjoyable.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Quadrant 4: Unknown Unknowns -->
        <div class="quadrant unknown-unknowns glass-card p-6 rounded-3xl shadow-xl cursor-pointer border border-slate-700" onclick="window.toggleDetails(this)">
            <div class="quadrant-header">
                <div class="quadrant-title-group">
                    <span class="quadrant-icon">🎲</span>
                    <div>
                        <h2 class="text-2xl font-bold text-white">Unknown Unknowns</h2>
                        <p class="text-sm text-slate-400">Navigating the Unpredictable</p>
                    </div>
                </div>
                <button class="expand-btn">+</button>
            </div>
            
            <div class="quadrant-details">
                <p class="mb-4 text-slate-300">
                    These are the unpredictable "black swan" events that could derail our plans. Maybe the movie is sold out, or traffic is a mess. Our resilience is key here.
                </p>
                
                <div class="glass-card p-4 rounded-xl text-center">
                    <h4 class="font-semibold text-slate-300 mb-4">Social Entropy Simulator</h4>
                    <p class="text-sm text-slate-400 mb-4">Click to see how our combined resilience handles an unexpected challenge.</p>
                    <button id="crisis-button" class="crisis-btn">Trigger a Scheduling Crisis!</button>
                    <div id="crisis-result" class="mt-4 p-3 rounded-lg text-sm bg-red-900/30 border border-red-800 hidden fade-in"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    // Audio setup
    const audioUrl = 'https://cdn.jsdelivr.net/gh/your-username/your-repository-name/movie_song_data.mp3';
    
    // State management
    let movieData = JSON.parse(localStorage.getItem('movieData')) || {};
    const totalMovies = 5;

    // DOM elements
    const progressFill = document.getElementById('progress-fill');
    const moviesWatchedSpan = document.getElementById('movies-watched');
    const rewardsStatus = document.getElementById('rewards-status');
    const crisisButton = document.getElementById('crisis-button');
    const crisisResult = document.getElementById('crisis-result');
    const movieCards = document.querySelectorAll('.movie-card');

    // Update progress display
    window.updateProgress = function() {
        const count = Object.keys(movieData).length;
        moviesWatchedSpan.textContent = count;
        const percentage = (count / totalMovies) * 100;
        progressFill.style.width = percentage + '%';

        // Update movie cards
        movieCards.forEach(card => {
            const movie = card.dataset.movie;
            const button = card.querySelector('button');
            if (movieData[movie]) {
                card.classList.add('watched');
                button.disabled = true;
                button.textContent = "✓ Watched";
            } else {
                card.classList.remove('watched');
                button.disabled = false;
                button.textContent = "Mark as Watched";
            }
        });

        // Update rewards status
        if (count >= 3) {
            rewardsStatus.innerHTML = '<span class="rewards-badge rewards-earned pulse-glow">🎉 $50 Gift Card Earned! 🎉</span>';
        } else if (count >= 2) {
            rewardsStatus.innerHTML = '<span class="rewards-badge rewards-earned pulse-glow">👏 $15 Gift Card Earned! 👏</span>';
        } else {
            rewardsStatus.innerHTML = '';
        }
    };

    // Track movie viewing
    window.trackMovie = function(button, event) {
        event.stopPropagation(); // Prevent quadrant toggle
        
        const card = button.closest('.movie-card');
        const movie = card.dataset.movie;
        
        if (!movieData[movie]) {
            movieData[movie] = true;
            localStorage.setItem('movieData', JSON.stringify(movieData));
            
            // Add celebration effect
            button.style.transform = 'scale(0.95)';
            setTimeout(() => {
                button.style.transform = '';
                window.updateProgress();
            }, 150);
        }
    };

    // Toggle quadrant details
    window.toggleDetails = function(quadrant) {
        const details = quadrant.querySelector('.quadrant-details');
        const button = quadrant.querySelector('.expand-btn');
        
        const isExpanded = details.classList.toggle('expanded');
        button.textContent = isExpanded ? '−' : '+';
        button.classList.toggle('rotated', isExpanded);
        quadrant.classList.toggle('expanded', isExpanded);
    };

    // Crisis simulation
    crisisButton.addEventListener('click', (event) => {
        event.stopPropagation();
        
        const crises = [
            "Unexpected traffic! Looks like we'll be late for the showtime.",
            "The movie is sold out! Time for Plan B.",
            "We can't agree on which movie to see next!",
            "The popcorn machine is broken... the humanity!"
        ];
        
        const crisis = crises[Math.floor(Math.random() * crises.length)];
        crisisResult.innerHTML = `<div class="font-semibold text-red-300 mb-2">CRISIS:</div><div class="text-red-200">${crisis}</div>`;
        crisisResult.classList.remove('hidden');

        setTimeout(() => {
            crisisResult.innerHTML += `
                <div class="mt-4 pt-3 border-t border-green-800/30">
                    <div class="font-semibold text-green-300 mb-2">Relational Solution:</div>
                    <div class="text-green-200 text-left">
                        We have a choice: give in to the challenge, or use it as an opportunity for collaboration. Let's find a new showtime, compromise on a different movie, or just grab dinner instead and try again tomorrow. Our shared goal is to enjoy time together, not just to watch a movie.
                    </div>
                </div>
            `;
        }, 1500);
    });

    // Initialize on load
    window.onload = function() {
        // Set audio source
        const audioPlayer = document.getElementById('movie-theme-song');
        audioPlayer.src = audioUrl;

        // Update initial state
        window.updateProgress();
        
        // Auto-expand first quadrant
        const firstQuadrant = document.querySelector('.known-knowns');
        window.toggleDetails(firstQuadrant);
    };
</script>

</body>
</html>
